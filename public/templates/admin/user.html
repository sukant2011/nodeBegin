<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">All Users</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>

<!-- /.row -->
<div ng-include = "'/templates/admin/ui-elements/flashMessage.html'"></div>
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
               List
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="table-responsive">
                     <div "col-lg-12">
                     <p>Search :<input type="text" Placeholder="Search By firstname,Lastname And Email " ng-model="search"></p>
                </div>
                    <table ng-table="usersTable" class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>#</th>

                                <th>Image</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Status</th>
                                <th>License Varification</th>
                                <th>Register Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="x in $data | filter:search">
                                <td>{{$index+1}}</td>

                                <td ><img ng-if="x.profile.photo" ng-src="{{x.profile.path + x.profile.photo[0]}}" style="height:50px; width:50px;"> <img ng-if="!x.profile.photo" src="images/default_icon.png" style="height:50px; width:50px;"></td>
                                <td>{{x.name.first}}</td>
                                <td>{{x.name.last}}</td>
                                <td>{{x.email}}</td>
                                <td>{{x.role}}</td>
                                <!-- <td ng-if="x.status == false"><img style="height:20px; width:20px;" src="images/erase.png" ></td>
                                <td ng-if="x.status == true"><img style="height:15px; width:15px;" src="images/true.png" ></td> -->

                                <td ng-if="x.status == false"><a class="button dialog-link" data-toggle="modal" data-target="#myModal" ng-click="updatedUserStatus(x._id,true)" style="cursor:pointer"><img  style="height:20px; width:20px;" src="images/erase.png" ></a>

                                </td>
                                <td ng-if="x.status == true"><a class="button dialog-link" data-toggle="modal" data-target="#myModal" ng-click="updatedUserStatus(x._id,false)" style="cursor:pointer"><img style="height:15px; width:15px;" src="images/true.png" ></a>

                                </td>
                                <td ng-if="x.verification.license == false"><a class="button dialog-link" data-toggle="modal" data-target="#myModal" ng-click="updatedLicenseStatus(x._id,true)" style="cursor:pointer"><img  style="height:20px; width:20px;" src="images/erase.png" ></a>

                                </td>
                                <td ng-if="x.verification.license == true"><a class="button dialog-link" data-toggle="modal" data-target="#myModal" ng-click="updatedLicenseStatus(x._id,false)" style="cursor:pointer"><img style="height:15px; width:15px;" src="images/true.png" ></a>

                                </td>
                                <td>{{x.createdDate | date :" MM/dd/y"}}</td>
                                <td><a class="btn btn-link" type="button" ui-sref="dashboard.edit({refId: x._id})" ng-click= "editUser(x._id)" >Edit</a> ||
                                     <a class="btn btn-link"  ng-click="removeUser(x._id)">Delete</a> ||
                                     <a class="btn btn-link" ui-sref="dashboard.profile({refId: x._id})" type="button">View</a>||
                                     <a class="btn btn-link" ui-sref="dashboard.carList({refId: x._id})" ng-click="userCarList(x._id)" type="button">Car</a> ||

                                     <a ng-if="x.license.image" class="btn btn-link" href="{{x.license.image.path + x.license.image.name  }}" type="button" download>DL</a>
                                      <span ng-if="!x.license.image" class="btn " type="button">No License Varification</span>
                                </td>
                         </tr>

                        </tbody>
                    </table>
                </div>
                <!-- /.table-responsive -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-6 -->
</div>
<!-- /.row -->
